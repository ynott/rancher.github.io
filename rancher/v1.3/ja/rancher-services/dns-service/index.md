* * *

title: Rancher における DNS サービス layout: rancher-default-v1.3 version: v1.3 lang: ja

* * *

## ## DNS サービス

Rancher は可用性の高いコントロールプレーンに加え独自の軽量 DNS サーバーを用いることで分散 DNS サービス向けのインフラストラクチャサービスを提供します。 全ての正常なコンテナは他のサービスとリンクされた際、もしくはサービスエイリアスが追加された際に自動的に DNS サービスに登録されます。 サービス名でクエリが発行されると DNS サービスがサービスを構成する正常なコンテナの IP アドレスからなるランダムなリストを返します。

* デフォルトではサービス内の **サービスリンク** で明示的にサービスのリンクを定義する必要は無く、同一スタック内の全てのサービスが DNS サービスに登録されます。
* そのため、同一スタック内であれば対象コンテナをサービス名で名前解決することができます。
* 特定サービスに対しサービス名ではなく独自の DNS 名を定義したい場合はリンクを設定することで独自の DNS 名を利用することができます。
* サービスエイリアスを利用している場合はリンクを設定する必要があります。
* 異なるスタック間でサービスの名前解決をしたい場合は `<service_name>.<stack_name>` といった形式で指定することができ、サービス内の **サービスリンク** で明示的にサービスのリンクを定義する必要はありません。

これは各コンテナ向けに提供される Rancher のオーバーレイネットワークが提供する独特な IP アドレスの定義によるものでユーザーによるポートマッピングや異なるポートによるサービスの重複を考慮する必要はありません。 結果として、シンプルな DNS サービスがサービス検出の要件を満たします。

[Cattle 環境]({{site.baseurl}}/rancher/{{page.version}}/{{page.lang}}/cattle/internal-dns-service/) や [Kubernetes 環境]({{site.baseurl}}/rancher/{{page.version}}/{{page.lang}}/kubernetes/k8s-internal-dns-service/) における内部 DNS サービスに関する詳細はそれぞれを参照してください。